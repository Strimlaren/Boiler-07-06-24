<%- include("./includes/head.ejs") %>
  <link rel="stylesheet" href="/styles/home.css">
  </head>

  <body>
    <%- include("./includes/header.ejs") %>

    <main class="home-container">
      <% if (blogposts && blogposts.length > 0) { %>
          <% blogposts.forEach(blogpost => { %>
              <article class="post-container">
                  <div class="post-header">
                      <img src="<%= blogpost.avatarLink %>" alt="avatar">
                      <div>
                          <a class="post-title-link" href="/blog/<%= blogpost._id %>">
                              <h2 class="post-title">
                                  <%= blogpost.title %>
                              </h2>
                          </a>
                          <p class="post-header-metadata">Posted by: <span class="highlight">
                              <%= blogpost.postedBy %>
                              </span> @ <%= blogpost.postedDate %>
                          </p>
                      </div>
                  </div>
                  <div class="padding">
                      <p>
                          <%= blogpost.postContent %>
                      </p>
                  </div>
                  <div class="post-footer padding">
                      <p><span class="highlight">Tags:</span>
                          <%= blogpost.tags.map(tag => tag).join(', ') %>
                      </p>
                      <div class="post-footer-right">
                          <p><span class="highlight">Likes:</span>
                              <%= blogpost.likes %>
                          </p>
                          <p><span class="highlight">Comments:</span>
                              <%= blogpost.comments.length %>
                          </p>
                      </div>
                  </div>
              </article>
          <% }); %>
      <% } else { %>
          <p>No blog posts found.</p>
      <% } %>
  </main>
  

      <%- include("./includes/end.ejs") %>